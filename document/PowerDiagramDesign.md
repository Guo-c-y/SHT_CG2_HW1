# Power Diagram — 3 个最终 Case 方案（覆盖 ①极端加权 ②退化正常Voronoi ③共线 ④负权值 ⑤共点站点）

## 总设定
- 距离度量：Power diagram（能量形式）$ F_i(x)=‖x-p_i‖^2 - w_i $（实现用线性半平面裁剪；分界均为直线）。
- 可视化：标出站点与权值；对空单元做“无填充”标记；报告每个站点的 cell 面积与退化原因。

---

## Case A — 基准 + 共线退化（覆盖②③）
- **点数**：10
- **权值**：全等权 $w_i=0$
- **构思**：
  - 选取一条水平或斜线，在线上放置 5 个点，间距近似均匀，形成“长共线段”。
  - 在线外再布置 5 个点，形成稀疏的不规则分布，避免整体退化为二维线性场景。
- **论证**：
  - $w_i=0$ → 标准 Voronoi（②），分界全部为直线。
  - 共线 5 点在同一直线上 → 若单独存在，将导致一维退化；与线外点共同存在时，线段中部的 Voronoi 顶点减少或消失，出现“长条”或“半无限”边，充分测试③的数值稳健性。
- **结果预期**：
  - 大部分单元正常，线段上中间点的单元变窄或呈细长条。
  - 所有边为直线；拓扑简单；无空单元。

---

## Case B — 极端加权 + 负权值（覆盖①④）
- **点数**：10
- **权值**：设置一个中心点为**极大权值**，周围环状点为中小权值；另加入**一个负权值**点（远处）
- **构思**：
  - 在平面中心放置 1 个点，赋予远大于邻域的权值 $w_c$。
  - 在其近邻四象限各放置 1–2 个点（合计 7–8 个），给与中小权值，使其在中心强权下被压缩。
  - 远离整体场景处再放置 1 个点并设 $w<0$，用于验证负权值（虚圆）处理。
- **论证**：
  - Power diagram 的比较是 $‖x-p‖^2 - w_i$，当 $w_c$ 足够大时，中心点在较大范围内占优（①），近邻点的 cell 将显著缩小，部分可能**空单元**。
  - 负权值不会破坏半平面裁剪（只是“加权圆”半径为虚），应当仍产生合法线性分割（④）。
- **结果预期**：
  - 若 `w_c` 设置足够大：至少 1–3 个近邻点出现空单元或极小单元，被判定为“被吞并”。
  - 所有分界为直线；报告中出现“空单元站点列表”；负权点拥有正常或略扩大的单元，具体大小取决于其相对位置与其他权值。

---

## Case C — 共点站点 + 轻度加权 + 弱共线（覆盖⑤③②）
- **点数**：10
- **权值**：两组“同坐标不同权”的共点对；其余为小中权的普通点；附带一条由 3 点构成的**短共线**（弱③）
- **构思**：
  - 选取两个位置，各放置**共点对**：同一坐标处放两个点，权值一高一低（⑤）。
  - 其余 6 个点分散放置，权值为小中等，形成一般场景；其中 3 个点共线，但只构成短线段（弱③），避免整体结构被线性化。
  - 整体权值分布温和，避免除共点外的全局吞并。
- **论证**：
  - 在 Power 比较中，共点处仅权值决定胜负；高权对应的站点将**完全支配**该坐标位置的 cell，低权共点**退化为空单元**（⑤）。
  - 弱共线三点验证局部直线分界与顶点生成的稳定性（③）。
  - 其他点近似等权 → 局部仍具“正常 Voronoi”特征（②）。
- **结果预期**：
  - 每组共点中：低权点 cell 面积为 0，高权点获得正常单元。
  - 其他点获得常规大小单元；共线三点附近出现延伸直线边但不过度退化。
  - 无极端吞并现象；整体拓扑清晰。

---

## 检查清单（三案通用）
- 预处理：合并同坐标点时仅用于**报告**，几何构造仍保留两点以测试退化处理；算法输出需标注“空单元”。
- 负权值：实现保持 `w` 可取任意实数；绘制“加权圆”时对 `w<0` 做虚圆标记或直接不绘制。
- 报告项：每点 cell 面积、是否空、邻接边数量、被吞并原因（权值差/共点/共线影响）。